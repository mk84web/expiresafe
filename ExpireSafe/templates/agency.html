{% extends "base.html" %}
{% block title %}Agency Settings | ExpireSafe{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Agency Settings</h1>

<p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Agency: <span class="font-semibold">{{ session.agency_name }}</span></p>

<div class="flex flex-wrap gap-4 mb-8">
  <a href="{{ url_for('agency_export') }}" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm">Export Data (ZIP)</a>
  <a href="{{ url_for('agency_delete') }}" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm">Delete Agency</a>
</div>

<!-- API Keys -->
<div class="bg-white dark:bg-slate-800 p-4 rounded shadow">
  <h2 class="font-semibold mb-3">REST API Keys</h2>
  <p class="text-xs text-slate-500 dark:text-slate-400 mb-3">Create an API key to access ExpireSafe data programmatically. Endpoints: <code class="dark:text-slate-300">/api/v1/staff</code>, <code class="dark:text-slate-300">/api/v1/staff/&lt;id&gt;/documents</code>, <code class="dark:text-slate-300">/api/v1/compliance</code>.</p>
  <form method="post" action="{{ url_for('api_create_key') }}" class="flex gap-2 items-end">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <div>
      <label class="block text-xs text-slate-500 dark:text-slate-400">Label</label>
      <input type="text" name="label" value="default" class="px-3 py-2 border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200" />
    </div>
    <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm">Create API Key</button>
  </form>
</div>
{% endblock %}
